package main

import (
	"log"

	"github.com/GMcD/cognito-jwt/verify"
)

func main() {
	// Get a JWT to parse.
	// jwtB64 := "eyJraWQiOiJmNTVkOWE0ZSIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJLZXNoYSIsImF1ZCI6IlRhc2h1YW4iLCJpc3MiOiJqd2tzLXNlcnZpY2UuYXBwc3BvdC5jb20iLCJleHAiOjE2MTkwMjUyMTEsImlhdCI6MTYxOTAyNTE3NywianRpIjoiMWY3MTgwNzAtZTBiOC00OGNmLTlmMDItMGE1M2ZiZWNhYWQwIn0.vetsI8W0c4Z-bs2YCVcPb9HsBm1BrMhxTBSQto1koG_lV-2nHwksz8vMuk7J7Q1sMa7WUkXxgthqu9RGVgtGO2xor6Ub0WBhZfIlFeaRGd6ZZKiapb-ASNK7EyRIeX20htRf9MzFGwpWjtrS5NIGvn1a7_x9WcXU9hlnkXaAWBTUJ2H73UbjDdVtlKFZGWM5VGANY4VG7gSMaJqCIKMxRPn2jnYbvPIYz81sjjbd-sc2-ePRjso7Rk6s382YdOm-lDUDl2APE-gqkLWdOJcj68fc6EBIociradX_ADytj-JYEI6v0-zI-8jSckYIGTUF5wjamcDfF5qyKpjsmdrZJA"
	// access -> jwtB64 := "eyJraWQiOiJqNG5MSDc2UnY1Q0tSOXZUUG50ejlGMWdNMFFSTkFKOExkSnpaVWlPY2VrPSIsImFsZyI6IlJTMjU2In0.eyJvcmlnaW5fanRpIjoiYWJlMThhMmQtZjFhYi00MWYyLTk2OGEtMWZjYzFkMTM3OGFhIiwic3ViIjoiOTBiNzg5NmUtNDExMy00ZTZmLThkNDgtMjJkNjYxMGIwZDQ5IiwiZXZlbnRfaWQiOiJkMDc3YjU3NS03NzI0LTQ4NTUtYWY5ZS03OTQ5NDU2ZDdlMzciLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6ImF3cy5jb2duaXRvLnNpZ25pbi51c2VyLmFkbWluIiwiYXV0aF90aW1lIjoxNjI4MDgwMTE3LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMl92ek13ZW9vd1AiLCJleHAiOjE2MjgwODM3MTcsImlhdCI6MTYyODA4MDExNywianRpIjoiODM2ZTJkZjAtMzBkZC00MmRhLTkyYjgtYTg1MTk1MzM5MTBmIiwiY2xpZW50X2lkIjoiNnFwdHFwNGVkNzEwbTdoY2Q5MDFqa252cCIsInVzZXJuYW1lIjoiOTBiNzg5NmUtNDExMy00ZTZmLThkNDgtMjJkNjYxMGIwZDQ5In0.i1se2uZxR_XSBOsbzotGSGT-vR3OTp3dO-L9-FRACf4xv-CLCk1Ql0ijSDd95AYLjUoNJV97OqhxYDQB3H8j_iYqp4Lte9WTuxRaLdKmL8JCBmyu_JSDWoeWqs9qk1ssaQSv20vNhESVSTArNAGNqYPkOLqLPykUFi7pikteJpT3yXmBxMQRfAUMThFUibhnL3fCfzTdG3lG1IkpbuHOUxfKsFoXfTIiJk7aJuXBIHlqDsVYw4K7unqGW8IVy_-mXL4ljSbXQPPhEVZNnydk3d1ytLiyVYWZSfOozYdx7D5Oq8pAfMOnAbwadL9imnHIPzQfr5cASSBZ_OydsBQLxg"
	jwtB64 := "eyJraWQiOiJueitTMDZFdFU4d3dYVkcwaTRibzFKUkQrM1FCVXB4QVRyc01PMFQ2aXdVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI5MGI3ODk2ZS00MTEzLTRlNmYtOGQ0OC0yMmQ2NjEwYjBkNDkiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMi5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTJfdnpNd2Vvb3dQIiwiY29nbml0bzp1c2VybmFtZSI6IjkwYjc4OTZlLTQxMTMtNGU2Zi04ZDQ4LTIyZDY2MTBiMGQ0OSIsIm9yaWdpbl9qdGkiOiJhYmUxOGEyZC1mMWFiLTQxZjItOTY4YS0xZmNjMWQxMzc4YWEiLCJhdWQiOiI2cXB0cXA0ZWQ3MTBtN2hjZDkwMWprbnZwIiwiZXZlbnRfaWQiOiJkMDc3YjU3NS03NzI0LTQ4NTUtYWY5ZS03OTQ5NDU2ZDdlMzciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyODA4MDExNywibmFtZSI6IkNocmlzdGlhbiIsImV4cCI6MTYyODA4MzcxNywiaWF0IjoxNjI4MDgwMTE3LCJqdGkiOiJmYTQ2ZTE3NS1mYmEyLTQxZjAtYTFkMC01YTY1MmE3ODRkNzYiLCJlbWFpbCI6ImNocmlzYWRrZW1wKzFAZ21haWwuY29tIn0.XFyqn1U7yaGgiPnM2MUH6C8Y4rTHbs24Wcr__RtC_4ZV610-7yDg2245zz7g3Kaf5BrDxg9lR6NVm-I3yxPvB5IoTeqzGX1vSXPgfgDn1ntubUwnjJZ3KzfQjnovwmyXd8OPJGUTo8wSjUSTlmxSUr8cDcQFLwON2qOQNtPFbhutTprGsIddv5QpHMd8ygbtCEGZFbcstcJ1xJm362U-wwBUumj2rXWMzHQ5DdYTYMdJnBLNEr-8M1TPv4ThJu_h6X4vHb71T44RqX-Kk_UzRog2a-HjVdBNaO88mKSXd-C0M87JiFYgP5G3RM8Jdj7t4gFDid_IVKfVPZ9bjgdf7g"
	// parse it...
	claim, err := verify.VerifyJWT(jwtB64)

	if err == nil {
		log.Println("Token is valid!")
		log.Println(claim)
	} else {
		log.Fatal(err)
	}

}
